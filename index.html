<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>사주 상담 신청 — EVE 사주 분석</title>
<style>
  body { font-family: sans-serif; background:#fafafa; padding:20px; }
  h1 { text-align:center; color:#065f46; }
  .section { background:#fff; padding:20px; border-radius:14px; border:1px solid #e5e7eb; margin-bottom:20px; }
  label { font-weight:600; display:block; margin-bottom:6px; }
  input, select, textarea {
    width:100%; padding:10px; border:1px solid #d1d5db;
    border-radius:8px; margin-bottom:15px;
  }
  button {
    padding:12px 20px; border:none; border-radius:10px;
    font-size:16px; cursor:pointer; font-weight:700;
  }
  button[disabled]{ opacity:.6; cursor:not-allowed; }
  .primary { background:#10b981; color:white; }
  .secondary { background:#e5e7eb; }
  .row { display:flex; gap:12px; flex-wrap:wrap; }
  .half { flex:1; min-width:150px; }
  .muted { font-size:13px;color:#6b7280;margin-top:8px; }
  .hidden { display:none; }
</style>
</head>
<body>

<h1>사주 상담 신청</h1>

<form id="consult-form"
      action="https://formspree.io/f/xzznkvag"
      method="POST">

  <!-- Formspree 옵션 -->
  <input type="hidden" name="_subject" value="EVE 사주 상담 신청 접수" />
  <!-- ⚠️ _replyto 제거: %email% 치환 안됨 -->
  <!-- <input type="hidden" name="_replyto" value="%email%" /> -->

  <!-- 스팸봇 차단용 허니팟 -->
  <input type="text" name="_gotcha" style="display:none" tabindex="-1" autocomplete="off" />

  <div class="section">
    <h2>1. 기본 정보</h2>

    <label>성명</label>
    <input type="text" name="name" required>

    <label>이메일</label>
    <input type="email" name="email" required>

    <div class="row">
      <div class="half">
        <label>생년월일</label>
        <input type="date" name="birth_date" required>
      </div>
      <div class="half">
        <label>출생시간</label>
        <select name="birth_time" id="birth_time">
          <option value="">모름</option>
          <option value="23-01">자(23~01)</option>
          <option value="01-03">축(01~03)</option>
          <option value="03-05">인(03~05)</option>
          <option value="05-07">묘(05~07)</option>
          <option value="07-09">진(07~09)</option>
          <option value="09-11">사(09~11)</option>
          <option value="11-13">오(11~13)</option>
          <option value="13-15">미(13~15)</option>
          <option value="15-17">신(15~17)</option>
          <option value="17-19">유(17~19)</option>
          <option value="19-21">술(19~21)</option>
          <option value="21-23">해(21~23)</option>
        </select>
      </div>
    </div>
  </div>

  <div class="section" id="guess-section">
    <h2>2. 시주 미상일 경우 — 시주 추정 테스트</h2>

    <label for="test_q1"><b>1차 질문 — 전반적인 기질</b></label>
    <select id="test_q1" name="test_q1">
      <option value="">※ 가장 가까운 하나를 선택하세요</option>
      <option value="Q1-자형">① 머리가 빠르고 계산·분석이 빠르며, 밤에 활동이 많고 한 번 파고들면 집요하게 끝까지 가는 편이다.</option>
      <option value="Q1-묘형">② 사람 사이에서 중재·조율을 잘하고, 말이 부드럽고 관계 중심으로 움직이는 편이다.</option>
      <option value="Q1-오형">③ 에너지가 밝고 드러나는 편이며, 리드하거나 무대·공개 상황에 노출되는 것을 크게 두려워하지 않는다.</option>
      <option value="Q1-유형">④ 꼼꼼하고 완성도를 중시하며, 디테일·정리·정돈을 잘하는 편이고, 체면·이미지를 중요하게 여긴다.</option>
    </select>

    <label for="test_q2"><b>2차 질문 — 인간관계/대응 스타일</b></label>
    <select id="test_q2" name="test_q2">
      <option value="">※ 나와 가장 비슷한 문장을 선택하세요</option>
      <option value="Q2-A 유연·이동">A. 상황에 따라 빨리 빠지고 옮겨 다니는 편이고, 한 자리에 오래 고여 있는 것보다 이동·변화를 선호한다.</option>
      <option value="Q2-B 관계·조율">B. 다소 손해를 보더라도 관계를 지키려 하고, 갈등이 나면 중재·조율을 먼저 떠올린다.</option>
      <option value="Q2-C 직선·표현">C. 속마음을 숨기기보다는 비교적 직선적으로 표현하고, 상대가 불편해할 수 있어도 솔직함을 택하는 편이다.</option>
      <option value="Q2-D 체면·완성도">D. 결과물의 완성도·체면·이미지를 많이 의식하고, 허투루 대충 하는 것을 참지 못하는 편이다.</option>
    </select>

    <p class="muted">
      ※ 위 답변은 <b>시주 추정의 참고 자료</b>로만 사용되며,<br>
      실제 사주 해석에서는 전체 팔자 구조와 함께 다시 검토합니다.
    </p>
  </div>

  <div class="section">
    <h2>3. 추가 메모</h2>
    <textarea name="memo" rows="4" placeholder="상담자에게 전하고 싶은 내용을 자유롭게 적어주세요."></textarea>
  </div>

  <div style="text-align:center; margin-top:20px;">
    <button class="primary" id="submitBtn" type="submit">분석 요청</button>
    <button class="secondary" type="reset">초기화</button>
  </div>
</form>

<script>
  const form = document.getElementById('consult-form');
  const birthTimeEl = document.getElementById('birth_time');
  const guessSection = document.getElementById('guess-section');
  const q1 = document.getElementById('test_q1');
  const q2 = document.getElementById('test_q2');
  const submitBtn = document.getElementById('submitBtn');

  function syncGuessUI() {
    const birthTime = birthTimeEl.value;
    if (!birthTime) {
      guessSection.classList.remove('hidden');
      q1.required = true;
      q2.required = true;
    } else {
      guessSection.classList.add('hidden');
      q1.required = false;
      q2.required = false;
      q1.value = "";
      q2.value = "";
    }
  }

  syncGuessUI();
  birthTimeEl.addEventListener('change', syncGuessUI);

  // 중복 제출 방지
  form.addEventListener('submit', function () {
    submitBtn.disabled = true;
    submitBtn.textContent = "전송 중...";
  });

  form.addEventListener('reset', function () {
    setTimeout(() => {
      submitBtn.disabled = false;
      submitBtn.textContent = "분석 요청";
      syncGuessUI();
    }, 0);
  });
</script>

</body>
</html>
